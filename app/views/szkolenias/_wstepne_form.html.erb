<head>
    <script type="text/javascript">
       
      var globalRowCount = 2;
        function addScreenRow(tableID)
        {
            var table     = document.getElementById(tableID);
            var rowCount  = table.rows.length;
            var row       = table.insertRow(rowCount);

            var imie       = row.insertCell(0);
            var element1    = document.createElement("input");
            element1.type   = "text";
            element1.required = true;
            element1.name = `szkolenie[osobas_attributes][${globalRowCount-1}][osoba_imie]`;
            imie.appendChild(element1);

            var nazwisko       = row.insertCell(1);
            var element2    = document.createElement("input");
            element2.type   = "text";
            element2.required = true;
            element2.name = `szkolenie[osobas_attributes][${globalRowCount-1}][osoba_nazwisko]`;
            nazwisko.appendChild(element2);

            var stanowisko       = row.insertCell(2);
            var element3    = document.createElement("input");
            element3.type   = "text";
            element3.required = true;
            element3.name = `szkolenie[osobas_attributes][${globalRowCount-1}][stanowisko]`;
            stanowisko.appendChild(element3);

            var zaswiadczenie = row.insertCell(3);
            var element6    = document.createElement("input");
            element6.type   = "hidden";
            element6.name = `szkolenie[osobas_attributes][${globalRowCount-1}][nr_zaswiadczenia]`;
            var nr = <%= @nr %>;
            nr = nr + 1 + rowCount - 3;
            element6.value = nr;
            zaswiadczenie.appendChild(element6);

            var rodzaj = row.insertCell(4);
            var element7    = document.createElement("input");
            element7.type   = "hidden";
            element7.name = `szkolenie[osobas_attributes][${globalRowCount-1}][rodzaj_id]`;
            element7.value = 8;
            rodzaj.appendChild(element7);
            
            globalRowCount++;

        }
      
        function delScreenRow(tableID)
        {
            try {
                var table    = document.getElementById(tableID);
                var rowCount = table.rows.length;
               
                table.deleteRow(rowCount-1)

            }
            catch(e) {
                alert(e);
            }
        }

    </script>

</head>


<div class="content2">
	<div class="row">
        <div class="col-md-2">
        <div class="fadeIn second">
            <%= image_tag("text_BHP_Wstepne_big.png", :class => "style_h") %>         

        </div>
        </div>
 
  	</div>
  	<br>
  	
    <div class="fadeIn third">
  	<div class="row">
	  <div class="form-group">

  		<div class="col-md-1"></div>
      <div class="col-md-2">
          <%= image_tag("text_nr_szkolenia.png") %>
        </div>
      <div class="col-xs-2">
      <%= pole.text_field(:szkolenie_id, :class => 'form-control', :value => @szkolenie_last, readonly: true ) %>
      </div>

      <div class="col-md-1"></div>
            <div class="col-md-2">
        <%= image_tag("text_waznosc.png") %>
        </div>
      <div class="col-md-2">

<%= pole.select :data_waznosci, options_for_select([[@data1, {:id => 'data1'}], [@data2, {:id => 'data2'}]], :class => "col-md-2"),:class => 'form-control' %>

<script type="text/javascript">
  $(function () {
   $('#datetimepicker2').datetimepicker({
    format: 'DD.MM.YYYY'}).on('dp.change', function() {
        var data1 = document.getElementById('data1');
        var data2 = document.getElementById('data2');
        var dat = document.getElementById('datetimepicker2');
        var parts = (dat.value).split('.');
        var dat1 = parseInt(parts[2], 10);
        var dat2 = parseInt((parts[1]), 10);
        var dat3 = parseInt(parts[0], 10);
        var dat11 = parseInt(parts[2], 10);
        var dat22 = parseInt((parts[1]), 10);
        var dat33 = parseInt(parts[0], 10);
        dat11 = dat11 + 1;
        if(dat2>6)
        {
          dat2 = (dat2+6)%12;
          dat1 = dat1 + 1;
        }
        else
        {
          dat2 = dat2 + 6;
        }
              
        var data0 = dat3 + "." + dat2 + "." + dat1;
        var data01 = dat33 + "." + dat22 + "." + dat11; 

    $('#szkolenie_data_waznosci')
    .empty()
    .append('<option selected="selected">' + data0 + '</option> <option>' + data01 + '</option>');
    });
  });
</script>
</div>

  		</div>
  	</div>

  	<br> 
  		
	<div class="row">
	  <div class="form-group">
  		<div class="col-md-1"></div>
        <div class="col-md-2">
            <%= image_tag("text_prowadzacy.png") %> 
        </div>
        <div class="col-md-2">
      <%= pole.text_field(:prowadzacy, :class => 'form-control') %>

      </div>
  			<div class="col-md-1"></div>
  			<div class="col-md-2">
  				<%= image_tag("text_data_od.png") %>
  			</div>
  			<div class="col-md-2">
  			  <div class="form-group">
                <div class='input-group date'>
                <%= pole.text_field :data_od, class: 'form-control datetimepicker', :id => 'datetimepicker1', :required => 'required' %>
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
              </div>
        	</div>

            <script type="text/javascript">
          		  $(function () {
             	   $('#datetimepicker1').datetimepicker({
             	   	  format: 'DD.MM.YYYY'});
             	   });
       		</script>

  	  </div>
	</div>
	<div class="row">
	  <div class="form-group">
  		<div class="col-md-1"></div>
        <div class="col-md-2">
          <%= image_tag("text_data_wystawienia.png") %>
        </div>
        <div class="col-md-2">
          <div class="form-group">
                <div class='input-group date'>
                <%= pole.text_field :data_wystawienia, class: 'form-control datetimepicker', :id => 'datetimepicker3', :required => 'required' %>
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
              </div>

            <script type="text/javascript">
                $(function () {
                 $('#datetimepicker3').datetimepicker({
                    format: 'DD.MM.YYYY'});
                 });
          </script>

      </div>
  			<div class="col-md-1"></div>
  			<div class="col-md-2">
  				<%= image_tag("text_data_do.png") %>
  			</div>
  			<div class="col-md-2">
  			  <div class="form-group">
                <div class='input-group date'>
                	 <%= pole.text_field :data_do, class: 'form-control datetimepicker', :id => 'datetimepicker2', :required => 'required' %>

                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
              </div>
        	</div>
                             
           <script type="text/javascript">
          		  $(function () {
             	   $('#datetimepicker2').datetimepicker({
             	   	  format: 'DD.MM.YYYY'

                  });
             	   });
       		</script> 
  	  </div>
	</div>
    <div class="row">

  
    </div>
 
	<div class="row">
	  <div class="form-group">
  		<div class="col-md-1"></div>
			<div class="col-md-2">
  				<%= image_tag("text_firma.png") %>
  			</div>
			<div class="col-md-7">
			<%= pole.text_field(:firma, :class => 'form-control') %>
  			</div>
  	  </div>
	</div>
</div>
 

</div>
<div class="content3">
  <div class="fadeIn fourth">
  <div class="hero-unit">	
  	<%= image_tag("text_osoby.png") %>

<br>
<br>
 
  	<table class="table table-striped", id="dataTable">
		<tr class="info">
			<th><%= image_tag("text_imie.png") %></th>
			<th><%= image_tag("text_nazwisko.png") %></th>
			<th><%= image_tag("text_stanowisko.png") %></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>


            <th></th>

		</tr>	
		<tr>
		<tbody>
 <%= pole.fields_for(:osobas) do |o| %>

		<td><%= o.text_field(:osoba_imie, :size => "20", :required => 'required') %></td>
		<td><%= o.text_field(:osoba_nazwisko, :size => "20", :required => 'required') %></td>
		<td><%= o.text_field(:stanowisko, :size => "20", :required => 'required') %></td>		

<%= o.hidden_field(:nr_zaswiadczenia, :id => 'zasw', :value => @nr) %>
<%= o.hidden_field(:rodzaj_id, :value => 8) %>

	</tr>	


	<% end %>
	</tbody>
	</table>
</div>